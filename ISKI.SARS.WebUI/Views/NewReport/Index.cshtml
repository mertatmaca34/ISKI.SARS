@model ISKI.SARS.WebUI.Models.ReportTemplateListResponse
@{
    ViewData["Title"] = "Yeni Rapor Oluştur";
    var nameFilter = ViewBag.NameFilter as string;
    var startDate = ViewBag.StartDate as string;
    var endDate = ViewBag.EndDate as string;
    var sortField = ViewBag.SortField as string;
    var sortDirection = ViewBag.SortDirection as string;
    var totalCount = ViewBag.TotalCount as int? ?? Model.TotalCount;
}

<div class="w-full h-[calc(100vh-64px)] px-10 py-8 bg-[#dcecff]">
    <div class="bg-white p-10 rounded shadow-md w-full max-w-6xl">
        <h2 class="text-3xl font-bold text-blue-700 mb-6 flex items-center gap-2">
            <span>📄</span> Yeni Rapor Oluştur
        </h2>

        <form method="get" class="mb-6">
            <div class="grid grid-cols-3 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium">Şablon Adı</label>
                    <input name="name" value="@nameFilter" class="w-full border border-gray-300 rounded px-3 py-2" />
                </div>
                <div>
                    <label class="block text-sm font-medium">Başlangıç Tarihi</label>
                    <input name="startDate" value="@startDate" type="date" class="w-full border border-gray-300 rounded px-3 py-2" />
                </div>
                <div>
                    <label class="block text-sm font-medium">Bitiş Tarihi</label>
                    <input name="endDate" value="@endDate" type="date" class="w-full border border-gray-300 rounded px-3 py-2" />
                </div>
            </div>

            <div class="grid grid-cols-3 gap-4 items-end">
                <div>
                    <label class="block text-sm font-medium">Sırala</label>
                    <select name="sortField" class="w-full border border-gray-300 rounded px-3 py-2">
                        <option value="">Seçiniz</option>
                        <option value="name" selected="@(sortField == "name")">Ad</option>
                        <option value="pullInterval" selected="@(sortField == "pullInterval")">Çekme Aralığı</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium">Sıralama Yönü</label>
                    <select name="sortDirection" class="w-full border border-gray-300 rounded px-3 py-2">
                        <option value="">Seçiniz</option>
                        <option value="asc" selected="@(sortDirection == "asc")">Artan</option>
                        <option value="desc" selected="@(sortDirection == "desc")">Azalan</option>
                    </select>
                </div>
                <div>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full">Filtrele</button>
                </div>
            </div>
        </form>

        <table class="w-full text-left border-collapse">
            <thead>
                <tr class="bg-blue-100">
                    <th class="px-4 py-2 border">Ad</th>
                    <th class="px-4 py-2 border">Endpoint</th>
                    <th class="px-4 py-2 border">Çekme Aralığı</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Items)
                {
                    <tr class="hover:bg-gray-100">
                        <td class="px-4 py-2 border">@item.Name</td>
                        <td class="px-4 py-2 border">@item.OpcEndpoint</td>
                        <td class="px-4 py-2 border">@item.PullInterval sn</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
